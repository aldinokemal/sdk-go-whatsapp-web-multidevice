openapi: 3.0.0
info:
  description: This API is used for sending whatsapp via API
  title: WhatsApp API MultiDevice
  version: 3.7.0
servers:
- url: http://localhost:3000
tags:
- description: Initial Connection to Whatsapp server
  name: app
- description: Getting information
  name: user
- description: Send Message (Text/Image/File/Video).
  name: send
- description: Message manipulation (revoke/react/update).
  name: message
- description: Group setting
  name: group
paths:
  /app/login:
    get:
      operationId: appLogin
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Login to whatsapp server
      tags:
      - app
  /app/logout:
    get:
      operationId: appLogout
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Remove database and logout
      tags:
      - app
  /app/reconnect:
    get:
      operationId: appReconnect
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Reconnecting to whatsapp server
      tags:
      - app
  /app/devices:
    get:
      operationId: appDevices
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceResponse'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Get list connected devices
      tags:
      - app
  /user/info:
    get:
      operationId: userInfo
      parameters:
      - example: 6289685028129@s.whatsapp.net
        explode: true
        in: query
        name: phone
        required: false
        schema:
          type: integer
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserInfoResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: User Info
      tags:
      - user
  /user/avatar:
    get:
      operationId: userAvatar
      parameters:
      - example: 6289685028129@s.whatsapp.net
        explode: true
        in: query
        name: phone
        required: false
        schema:
          type: integer
        style: form
      - example: true
        explode: true
        in: query
        name: is_preview
        required: false
        schema:
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserAvatarResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: User Avatar
      tags:
      - user
  /user/my/privacy:
    get:
      operationId: userMyPrivacy
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserPrivacyResponse'
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: User My Privacy Setting
      tags:
      - user
  /user/my/groups:
    get:
      operationId: userMyGroups
      responses:
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: User My List Groups
      tags:
      - user
  /send/message:
    post:
      operationId: sendMessage
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendMessage_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Message
      tags:
      - send
  /send/image:
    post:
      operationId: sendImage
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendImage_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Image
      tags:
      - send
  /send/audio:
    post:
      operationId: sendAudio
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendAudio_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Audio
      tags:
      - send
  /send/file:
    post:
      operationId: sendFile
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendFile_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send File
      tags:
      - send
  /send/video:
    post:
      operationId: sendVideo
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendVideo_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Video
      tags:
      - send
  /send/contact:
    post:
      operationId: sendContact
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendContact_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Contact
      tags:
      - send
  /send/link:
    post:
      operationId: sendLink
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendLink_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Link
      tags:
      - send
  /send/location:
    post:
      operationId: sendLocation
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/sendLocation_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send Location
      tags:
      - send
  /message/{message_id}/revoke:
    post:
      operationId: revokeMessage
      parameters:
      - description: Message ID
        explode: false
        in: path
        name: message_id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/revokeMessage_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Revoke Message
      tags:
      - message
  /message/{message_id}/reaction:
    post:
      operationId: reactMessage
      parameters:
      - description: Message ID
        explode: false
        in: path
        name: message_id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/reactMessage_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Send reaction to message
      tags:
      - message
  /group/join-with-link:
    post:
      operationId: joinGroupWithLink
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/joinGroupWithLink_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Join group with link
      tags:
      - group
  /group/leave:
    post:
      operationId: leaveGroup
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/leaveGroup_request'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorBadRequest'
          description: Bad Request
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorInternalServer'
          description: Internal Server Error
      summary: Leave group
      tags:
      - group
components:
  schemas:
    UserGroupResponse:
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success get list groups
          type: string
        results:
          $ref: '#/components/schemas/UserGroupResponse_results'
      type: object
    UserInfoResponse:
      example:
        code: SUCCESS
        message: message
        results:
          devices:
          - Agent: 0
            User: "6289685021291"
            AD: true
            Server: s.whatsapp.net
            Device: UNKNOWN
          - Agent: 0
            User: "6289685021291"
            AD: true
            Server: s.whatsapp.net
            Device: UNKNOWN
          verified_name: Aldino Kemal
          picture_id: "1651459152"
          status: Hello World
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          type: string
          example: null
        results:
          $ref: '#/components/schemas/UserInfoResponse_results'
      type: object
    UserAvatarResponse:
      example:
        code: SUCCESS
        message: Success
        results:
          id: "1635239861"
          type: image
          url: https://pps.whatsapp.net/v/t61.24694-24/181358562_385581386633509_6230178822944778044_n.jpg?ccb=11-4&oh=df36c5b990497b8a5758a0f1ad8118a8&oe=620AA726
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success
          type: string
        results:
          $ref: '#/components/schemas/UserAvatarResponse_results'
      type: object
    UserPrivacyResponse:
      example:
        code: SUCCESS
        message: Success get privacy
        results:
          group_add: all
          last_seen: last_seen
          profile: all
          read_receipts: all
          status: all
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success get privacy
          type: string
        results:
          $ref: '#/components/schemas/UserPrivacyResponse_results'
      type: object
    SendResponse:
      example:
        code: SUCCESS
        message: Success
        results:
          message_id: 3EB0B430B6F8F1D0E053AC120E0A9E5C
          status: <feature> success ....
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success
          type: string
        results:
          $ref: '#/components/schemas/SendResponse_results'
      type: object
    DeviceResponse:
      example:
        code: SUCCESS
        message: Fetch device success
        results:
        - name: Aldino Kemal
          device: 628960561XXX.0:64@s.whatsapp.net
        - name: Aldino Kemal
          device: 628960561XXX.0:64@s.whatsapp.net
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Fetch device success
          type: string
        results:
          items:
            $ref: '#/components/schemas/DeviceResponse_results_inner'
          type: array
      type: object
    LoginResponse:
      example:
        code: SUCCESS
        message: Success
        results:
          qr_duration: 30
          qr_link: http://localhost:3000/statics/images/qrcode/scan-qr-b0b7bb43-9a22-455a-814f-5a225c743310.png
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success
          type: string
        results:
          $ref: '#/components/schemas/LoginResponse_results'
      type: object
    GenericResponse:
      example:
        code: SUCCESS
        message: Success
        results: results
      properties:
        code:
          example: SUCCESS
          type: string
        message:
          example: Success
          type: string
        results:
          type: string
          example: null
      type: object
    ErrorInternalServer:
      example:
        code: INTERNAL_SERVER_ERROR
        message: you are not loggin
        results: "{}"
      properties:
        code:
          description: SYSTEM_CODE_ERROR
          example: INTERNAL_SERVER_ERROR
          type: string
        message:
          description: Detail error message
          example: you are not loggin
          type: string
        results:
          description: additional data
          type: object
          example: null
      type: object
    ErrorBadRequest:
      example:
        code: "400"
        message: field cannot be blank
        results: "{}"
      properties:
        code:
          description: HTTP Status Code
          example: "400"
          type: string
        message:
          description: Detail error message
          example: field cannot be blank
          type: string
        results:
          description: additional data
          type: object
          example: null
      type: object
    sendMessage_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685028129@s.whatsapp.net
          type: string
        message:
          description: Message to send
          example: selamat malam
          type: string
        reply_message_id:
          description: Message ID that you want reply
          example: 3EB089B9D6ADD58153C561
          type: string
      type: object
    sendImage_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685028129@s.whatsapp.net
          type: string
        caption:
          description: Caption to send
          example: selamat malam
          type: string
        view_once:
          description: View once
          example: false
          type: boolean
        image:
          description: Image to send
          format: binary
          type: string
        compress:
          description: Compress image
          example: false
          type: boolean
      type: object
    sendAudio_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685028129@s.whatsapp.net
          type: string
        audio:
          description: Audio to send
          format: binary
          type: string
      type: object
    sendFile_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685028129@s.whatsapp.net
          type: string
        caption:
          description: Caption to send
          example: selamat malam
          type: string
        file:
          description: File to send
          format: binary
          type: string
      type: object
    sendVideo_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685028129@s.whatsapp.net
          type: string
        caption:
          description: Caption to send
          example: ini contoh caption video
          type: string
        view_once:
          description: View once
          example: false
          type: boolean
        video:
          description: Video to send
          format: binary
          type: string
        compress:
          description: Compress video
          example: false
          type: boolean
      type: object
    sendContact_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685024051@s.whatsapp.net
          type: string
        contact_name:
          description: Contact name
          example: Aldino Kemal
          type: string
        contact_phone:
          description: Contact phone number
          example: "6289685024992"
          type: string
      type: object
    sendLink_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685024051@s.whatsapp.net
          type: string
        link:
          description: Link to send
          example: https://google.com
          type: string
        caption:
          description: Caption to send
          example: Halo ini contoh caption
          type: string
      type: object
    sendLocation_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685024051@s.whatsapp.net
          type: string
        latitude:
          description: Latitude coordinate
          example: "-7.797068"
          type: string
        longitude:
          description: Longitude coordinate
          example: "110.370529"
          type: string
      type: object
    revokeMessage_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685024051@s.whatsapp.net
          type: string
      type: object
    reactMessage_request:
      properties:
        phone:
          description: Phone number with country code
          example: 6289685024051@s.whatsapp.net
          type: string
        emoji:
          description: Emoji to react
          example: üôè
          type: string
      type: object
    joinGroupWithLink_request:
      properties:
        link:
          example: https://chat.whatsapp.com/whatsappKeyJoinGroup
          type: string
      type: object
    leaveGroup_request:
      properties:
        group_id:
          example: 120363024512399999@g.us
          type: string
      type: object
    UserGroupResponse_results_data_inner_Participants_inner:
      properties:
        JID:
          type: string
        IsAdmin:
          type: boolean
        IsSuperAdmin:
          type: boolean
        Error:
          type: number
    UserGroupResponse_results_data_inner:
      properties:
        JID:
          type: string
        OwnerJID:
          type: string
        Name:
          type: string
        NameSetAt:
          type: string
        NameSetBy:
          type: string
        GroupCreated:
          type: string
        ParticipantVersionID:
          type: string
        Participants:
          items:
            $ref: '#/components/schemas/UserGroupResponse_results_data_inner_Participants_inner'
          type: array
      type: object
    UserGroupResponse_results:
      properties:
        data:
          items:
            $ref: '#/components/schemas/UserGroupResponse_results_data_inner'
          type: array
      type: object
    UserInfoResponse_results_devices_inner:
      example:
        Agent: 0
        User: "6289685021291"
        AD: true
        Server: s.whatsapp.net
        Device: UNKNOWN
      properties:
        User:
          example: "6289685021291"
          type: string
        Agent:
          example: 0
          type: integer
        Device:
          example: UNKNOWN
          type: string
        Server:
          example: s.whatsapp.net
          type: string
        AD:
          example: true
          type: boolean
      type: object
    UserInfoResponse_results:
      example:
        devices:
        - Agent: 0
          User: "6289685021291"
          AD: true
          Server: s.whatsapp.net
          Device: UNKNOWN
        - Agent: 0
          User: "6289685021291"
          AD: true
          Server: s.whatsapp.net
          Device: UNKNOWN
        verified_name: Aldino Kemal
        picture_id: "1651459152"
        status: Hello World
      properties:
        verified_name:
          example: Aldino Kemal
          type: string
        status:
          example: Hello World
          type: string
        picture_id:
          example: "1651459152"
          type: string
        devices:
          items:
            $ref: '#/components/schemas/UserInfoResponse_results_devices_inner'
          type: array
      type: object
    UserAvatarResponse_results:
      example:
        id: "1635239861"
        type: image
        url: https://pps.whatsapp.net/v/t61.24694-24/181358562_385581386633509_6230178822944778044_n.jpg?ccb=11-4&oh=df36c5b990497b8a5758a0f1ad8118a8&oe=620AA726
      properties:
        url:
          example: https://pps.whatsapp.net/v/t61.24694-24/181358562_385581386633509_6230178822944778044_n.jpg?ccb=11-4&oh=df36c5b990497b8a5758a0f1ad8118a8&oe=620AA726
          type: string
        id:
          example: "1635239861"
          type: string
        type:
          example: image
          type: string
      type: object
    UserPrivacyResponse_results:
      example:
        group_add: all
        last_seen: last_seen
        profile: all
        read_receipts: all
        status: all
      properties:
        group_add:
          example: all
          type: string
        last_seen:
          type: string
          example: null
        status:
          example: all
          type: string
        profile:
          example: all
          type: string
        read_receipts:
          example: all
          type: string
      type: object
    SendResponse_results:
      example:
        message_id: 3EB0B430B6F8F1D0E053AC120E0A9E5C
        status: <feature> success ....
      properties:
        message_id:
          example: 3EB0B430B6F8F1D0E053AC120E0A9E5C
          type: string
        status:
          example: <feature> success ....
          type: string
      type: object
    DeviceResponse_results_inner:
      example:
        name: Aldino Kemal
        device: 628960561XXX.0:64@s.whatsapp.net
      properties:
        name:
          example: Aldino Kemal
          type: string
        device:
          example: 628960561XXX.0:64@s.whatsapp.net
          type: string
      type: object
    LoginResponse_results:
      example:
        qr_duration: 30
        qr_link: http://localhost:3000/statics/images/qrcode/scan-qr-b0b7bb43-9a22-455a-814f-5a225c743310.png
      properties:
        qr_duration:
          example: 30
          type: integer
        qr_link:
          example: http://localhost:3000/statics/images/qrcode/scan-qr-b0b7bb43-9a22-455a-814f-5a225c743310.png
          type: string
      type: object
